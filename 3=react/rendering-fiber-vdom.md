# Rendering 与 Fiber 架构

## 1. 虚拟 DOM (VDOM)
React 在内存中维护一棵轻量级的 DOM 树，状态变更时生成新树，并通过 Diff 算法找出差异。

## 2. Fiber 架构
Fiber 是 React 16 引入的核心机制。
- **任务拆分**：将渲染过程切分为一个个小单元。
- **可中断性**：高优先级的任务（如输入）可以中断渲染，避免掉帧。
- **调度器 (Scheduler)**：负责决定哪个 Fiber 任务先执行。

## 3. Reconciliation (协调) 与 Diff 算法
- **同级比较**：React 只会比较同一层级的元素。
- **组件类型**：不同类型的组件会销毁重建。
- **Key 的作用**：辅助判断元素是移动还是销毁，稳定 Key 能显著提升列表性能。

## 4. 批处理 (Batching)
React 会将多次 `setState` 合并为一次渲染以提升性能（React 18 全自动批处理）。
